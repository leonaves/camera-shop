<?php
// ******************************************************
// ** YOU MUST NOT CHANGE ANY OF THE CODE IN THIS FILE **
// ** UNLESS AUTHORISED TO DO SO BY THE MODULE LEADER  **
// ******************************************************


	$productArray = array(
		"<product top-level-category=\"DSLR\" sub-level-category=\"Camera Bundles\"><id>0001</id><title>NIKON D3300 DSLR Camera with 18-55 mm f/3.5-5.6 II ED Zoom Lens - Black</title><brand>Nikon</brand><price>279.00</price><description>The Nikon D3300 DSLR Camera with 18-55 mm f/3.5-5.6 II ED Zoom Lens allows you to capture special moments in glorious high quality. Unforgettable memories, unforgettable photos. Small and lightweight, the D3300 has a 24.2 megapixel, 23.5 x 15.6 mm CMOS sensor with remarkable light sensitivity that produces amazingly sharp images. It performs well in low light with an ISO range of 100 to 12800 (extendable to 25600). Your images will be packed with fine textures and natural colours to really capture the atmosphere of whichever situation you find yourself in. Capture clear, colourful photographs in all manner of lighting conditions as the EXPEED 4 image processor goes to work, delivering gorgeous photos every time.</description><spec><megapixels>24.2</megapixels><sensor>23.5 x 15.6 CMOS</sensor><iso>Auto, 100-12800</iso><lens_mount>Nikon F Mount</lens_mount></spec><picture>0001.jpg</picture></product>",
		"<product top-level-category=\"DSLR\" sub-level-category=\"Camera Bundles\"><id>0002</id><title>CANON EOS 1200D DSLR Camera with 18-55 mm f/3.5-5.6 Zoom Lens and 75-300 mm f/4-5.6 Telephoto Zoom Lens</title><brand>Canon</brand><price>369.00</price><description>Capture images with more depth, detail and creativity - the Canon EOS 1200D DSLR Camera with 18-55 mm + 75-300 mm Telephoto Zoom Lens is your gateway to better photography. Capture the special moments in life.  At the core of this compact body sits an 18 megapixel APS-C image sensor that works in conjunction with the powerful Canon DIGIC 4 processing engine. The image sensor captures more light detail before the processing chip swiftly renders the image to give you a beautifully sharp image with rich and natural tones. The 1200D captures the mood of any occasion; photos are rich in detail and smooth in focus. You can capture the world as you see it, the ambient light, exposure control and image stabilisation work to produce images that are full of life. Shoot indoors or in challenging light and marvel at the sharp, shake-free photos you can achieve without the need of a flash.</description><spec><megapixels>18</megapixels><sensor>22.3 x 14.9 CMOS</sensor><iso>100-6400</iso><lens_mount>Canon EF / EF-S Mount</lens_mount></spec><picture>0002.jpg</picture></product>",
		"<product top-level-category=\"DSLR\" sub-level-category=\"Camera Bundles\"><id>0003</id><title>CANON EOS 1200D DSLR Camera with 18-55 mm f/3.5-5.6 Zoom Lens</title><brand>Canon</brand><price>250.00</price><description>Capture images with more depth, detail and creativity - the Canon EOS 1200D DSLR Camera with 18-55 mm + 75-300 mm Telephoto Zoom Lens is your gateway to better photography. Capture the special moments in life.  At the core of this compact body sits an 18 megapixel APS-C image sensor that works in conjunction with the powerful Canon DIGIC 4 processing engine. The image sensor captures more light detail before the processing chip swiftly renders the image to give you a beautifully sharp image with rich and natural tones. The 1200D captures the mood of any occasion; photos are rich in detail and smooth in focus. You can capture the world as you see it, the ambient light, exposure control and image stabilisation work to produce images that are full of life. Shoot indoors or in challenging light and marvel at the sharp, shake-free photos you can achieve without the need of a flash.</description><spec><megapixels>18</megapixels><sensor>22.3 x 14.9 CMOS</sensor><iso>100-6400</iso><lens_mount>Canon EF / EF-S Mount</lens_mount></spec><picture>0003.jpg</picture></product>",
		"<product top-level-category=\"DSLR\" sub-level-category=\"Camera Bundles\"><id>0004</id><title>NIKON D5300 DSLR Camera with 18-55 mm f/3.5-5.6 Zoom Lens</title><brand>Nikon</brand><price>459.00</price><description>Taking photography to the next level, the Nikon D5300 DSLR Camera with 18-55 mm Telephoto Zoom Lens offers incredible image quality, smooth functionality and innovative connectivity. Shoot stunning images With inspiring image quality delivered from a 24.2-million pixel count and a DX-format CMOS image sensor, the D5300 produces spectacular photos and videos. The Nikon camera achieves images with rich detail, smooth, natural skin tones and brilliant lucidity. Designed with no optical low-pass filter, the SLR ensures the very finest details are packed in with brilliant sharpness and depth. The EXPEED 4 image processing engines delivers a superior rendering performance; images stand out with vivid detail and natural colour reproduction. The processing chip unleashes the full potential of the megapixel count, giving your shots exquisite colour, less noise and true-to-life tones. The exclusive EXPEED image unit manages extensive image data at rapid speeds for an uninterrupted shooting – taking onthe hard work for you.</description><spec><megapixels>24.2</megapixels><sensor>23.5 x 15.6 CMOS</sensor><iso>Auto, 100-12800 in steps of 1/3EV</iso><lens_mount>Nikon F Mount</lens_mount></spec><picture>0004.jpg</picture></product>",
		"<product top-level-category=\"DSLR\" sub-level-category=\"Lenses\"><id>0005</id><title>SIGMA 70-300 mm f/4-5.6 DG Telephoto Zoom Lens with Macro - for Nikon</title><brand>SIGMA</brand><price>84.00</price><description>Zoom right in on those subjects you only ever dreamed about using the bargain-priced Sigma 70-300 mm f/4-5.6 DG Macro Telephoto Zoom Lens. Whether you are a nature lover, a portrait photographer, or a sports fanatic, you will shoot anything under the sun with this lens. Get the creative eye. You will be able to use this Nikon fitting lens with either full-frame FX or crop-sensor DX cameras, and when used with Nikon DX cameras, you get an impressive range of 105-450 mm (in 35 mm equivalent terms). Sharp shooting. Chromatic aberration is obliterated in a flash with the Special Low Dispersion glass, and as for optical quality, it has never been better.</description><spec><lens_mount>Nikon F Mount</lens_mount><aperture>F/4.0 - f/32</aperture><filter>58mm</filter></spec><picture>0005.jpg</picture></product>",
		"<product top-level-category=\"DSLR\" sub-level-category=\"Lenses\"><id>0006</id><title>CANON EF 50 mm f/1.8 STM Standard Prime Lens</title><brand>Canon</brand><price>97.00</price><description>The Canon EF 50 mm f/1.8 STM Standard Prime Lens offers a perspective that is similar to the human eye, making it ideal for portraiture and easy to achieve perfect framing with a smooth bokeh. Lightweight and compact, the EF 50 mm f/1.8 STM will form an essential part of your photography kit and is compatible with Canon EF mount cameras. Near-silent STM focusing eliminates focus noise – ideal when shooting movies. A bright maximum aperture of f/1.8 delivers great results in low-light conditions, while also letting you capture a smooth background to make your subject stand out.</description><spec><lens_mount>Canon EF Mount</lens_mount><aperture>F/1.8 - f/22</aperture><filter>49mm</filter></spec><picture>0006.jpg</picture></product>",
		"<product top-level-category=\"DSLR\" sub-level-category=\"Lenses\"><id>0007</id><title>CANON EF-S 10-18 mm f/4.5-5.6 IS STM Wide-angle Zoom Lens</title><brand>Canon</brand><price>179.00</price><description>Use the lightweight Canon EF-S 10-18 mm f/4.5-5.6 IS STM Wide-Angle Zoom Lens for great shots of landscapes, architecture and other standout travel scenes. A great travel lens. The Canon EF-S 10-18 mm Wide-Angle Lens is definitely fit for travel thanks to its light construction and relatively short design that allow you to easily fit into a case or camera bag. Its focal length gives you additional shooting options, letting you fit more into each frame even when you are close to your subjects. You will enjoy additional flexibility when composing a scene as you will not have to step back every time thanks to a short 0.22 m minimum focusing distance.</description><spec><lens_mount>Canon EF-S Mount</lens_mount><aperture>F/4.5 - f/29</aperture><filter>67mm</filter></spec><picture>0007.jpg</picture></product>",
		"<product top-level-category=\"DSLR\" sub-level-category=\"Lenses\"><id>0008</id><title>NIKON AF-S DX NIKKOR 35 mm f/1.8 G SWM Standard Prime Lens</title><brand>Nikkor</brand><price>168.99</price><description>The discerning photographer will appreciate this Nikon AF-S DX NIKKOR 35mm f/1.8G Standard Prime Lens, appropriate for F mount Nikon digital SLR cameras with a 35mm equivalent focal length of 52.5mm. High performance photography. Harking back to the days when cameras were supplied with a high quality standard 50mm lens, the AF-S DX NIKKOR 35mm f/1.8G Lens is a great walkabout lens for general purpose shooting.</description><spec><lens_mount>Nikon F Mount</lens_mount><aperture>F/1.8 - f/22</aperture><filter>52mm</filter></spec><picture>0008.jpg</picture></product>",
		"<product top-level-category=\"DSLR\" sub-level-category=\"Body Only\"><id>0009</id><title>CANON EOS 1200D DSLR Camera - Body Only</title><brand>Canon</brand><price>199.99</price><description>Compact and easy to use, the Canon EOS 1200D DSLR Camera delivers dynamic and professional-looking results. Capture the special moments in life. At the core of this entry-level DSLR body sits an 18 megapixel APS-C image sensor that works in conjunction with the powerful Canon DIGIC 4 processing engine. The image sensor captures more light detail before the processing chip swiftly renders the image to give you a beautifully sharp image with rich and natural tones. The 1200D captures the mood of any occasion. Photos are rich in detail and smooth in focus - capture the world as you see it, the ambient light and exposure control working to produce images that are full of life. Shoot indoors or in challenging light and marvel at the sharp, shake-free photos you can achieve without the need of a flash.</description><spec><megapixels>18</megapixels><sensor>22.3 x 14.9 CMOS</sensor><iso>100-6400</iso><lens_mount>Canon EF / EF-S Mount</lens_mount></spec><picture>0009.jpg</picture></product>",
		"<product top-level-category=\"DSLR\" sub-level-category=\"Body Only\"><id>0010</id><title>CANON EOS 7D Mark II DSLR Camera - Body Only</title><brand>Canon</brand><price>1,179.00</price><description>The Canon EOS 7D Mark II Digital SLR Camera helps you to capture fleeting moments and produce high quality professional looking images with new levels of creativity. Designed for professional and serious amateur photographers, the 20.2 megapixel sensor, coupled with outstanding handling and impressive features make the EOS 7 Mark II an indispensible addition to your camera bag. Get professional results With an impressive 20.2 MP CMOS sensor at its heart, the EOS 7 Mk 2 gives you everything you will need to start shooting like a professional. Built around a tough magnesium-alloy body and an ISO sensitivity range of 100 to 16000 - further expandable to 51200 when required, there will hardly be anything you cannot capture.</description><spec><megapixels>20.2</megapixels><sensor>24.2 x 15 CMOS</sensor><iso>100-16000 (Expanded to 51200)</iso><lens_mount>Canon EF / EF-S Mount</lens_mount></spec><picture>0010.jpg</picture></product>",
		"<product top-level-category=\"DSLR\" sub-level-category=\"Body Only\"><id>0011</id><title>NIKON D3300 DSLR Camera - Body Only</title><brand>Nikon</brand><price>229.00</price><description>The Nikon D3300 DSLR Camera is a digital SLR body that allows you to shoot those special and amazing moments in stunning high quality when teamed with one of the large range of compatible lenses. Unforgettable memories, unforgettable photos. Small and lightweight, there is nothing insubstantial about 24.2 megapixels of superb resolution. A large 23.5 x 15.6 mm CMOS sensor displays remarkable light sensitivity, rendering details with amazing sharpness and performing well in low light with an ISO range of 100 to 12800 (extendable to 25600 equivalent). Your images will be packed with fine textures and naturalistic colours to really capture the atmosphere of whichever situation you find yourself in, thanks to the freedom from an optical low-pass filter (OLPF).</description><spec><megapixels>24.2</megapixels><sensor>23.5 x 15.6 CMOS</sensor><iso>100-12800</iso><lens_mount>Nikon F Mount</lens_mount></spec><picture>0011.jpg</picture></product>",
		"<product top-level-category=\"DSLR\" sub-level-category=\"Body Only\"><id>0012</id><title>NIKON D4S DSLR Camera - Body Only</title><brand>Nikon</brand><price>4,192.00</price><description>Combining advanced technologies with ergonomic design, the Nikon D4S DSLR Camera gives you exceptional speed and image quality, and a great performance on all occasions. 16.2-MP FX-format sensor. The Nikon D4Ss advanced sensor delivers impeccable image quality with natural colours and stand-out subjects. The revamped image sensor boasts fast channel readout, wide dynamic range and a sharp performance at high sensitivities. Working with the CMOS image sensor is a Nikon EXPEED 4 processing engine that takes low light photography to the next level, allowing you to capture natural-looking photos in low light without a flash. It also boosts the DSLRs shooting by enhancing image rendering, allowing higher frame rates and improving the ISO performance.</description><spec><megapixels>16.2</megapixels><sensor>36 x 23.9 CMOS</sensor><iso>100-25600</iso><lens_mount>Nikon F Mount</lens_mount></spec><picture>0012.jpg</picture></product>",
		"<product top-level-category=\"Compact\" sub-level-category=\"System\"><id>0013</id><title>SONY a6000 Compact System Camera with 16-50 mm f/3.5-5.6 OSS Zoom Lens</title><brand>Sony</brand><price>489.00</price><description>Combining advanced technologies with ergonomic design, the Nikon D4S DSLR Camera gives you exceptional speed and image quality, and a great performance on all occasions. 16.2-MP FX-format sensor. The Nikon D4Ss advanced sensor delivers impeccable image quality with natural colours and stand-out subjects. The revamped image sensor boasts fast channel readout, wide dynamic range and a sharp performance at high sensitivities. Working with the CMOS image sensor is a Nikon EXPEED 4 processing engine that takes low light photography to the next level, allowing you to capture natural-looking photos in low light without a flash. It also boosts the DSLRs shooting by enhancing image rendering, allowing higher frame rates and improving the ISO performance.</description><spec><megapixels>24.3</megapixels><sensor>23.5 x 15.7 APS-C CMOS</sensor><iso>125-25600</iso></spec><picture>0013.jpg</picture></product>",
		"<product top-level-category=\"Compact\" sub-level-category=\"System\"><id>0014</id><title>OLYMPUS PEN E-PL6 Compact System Camera with Lens Bundle</title><brand>Olympus</brand><price>349.00</price><description>This black Olympus PEN E-PL6 Compact System Camera with 14-42 mm f/3.5-5.6 II R Standard Zoom Lens and 40-150 mm f/4.0-5.6 R Telephoto Zoom Lens is slim and portable, packing 16.1 megapixels of image quality, giving you more options to take photos you will be proud of. A high-resolution design. The Olympus PEN E-PL6 sports a distinctive retro style and an all metal finish that make it both a treat to hold and a real visual statement. It is capable of high resolution images with its 16.1 megapixel Live MOS sensor and TruePic VI processor. A 200 - 25600 ISO range provides the sensitivity you need for clear, dynamic shots in many lighting conditions.</description><spec><megapixels>16.1</megapixels><sensor>17.3 x 13 Live MOS</sensor><iso>200-25600</iso></spec><picture>0014.jpg</picture></product>",
		"<product top-level-category=\"Compact\" sub-level-category=\"System\"><id>0015</id><title>NIKON 1 J5 Compact System Camera with NIKKOR 10-30 mm f/3.5-5.6 VR Zoom Lens - Black</title><brand>Nikon</brand><price>299.00</price><description>Use the all new Nikon 1 J5 Compact System Camera with NIKKOR 10-30 mm f/3.5-5.6 VR Zoom Lens with fluid controls and impressive imaging capabilities to take exceptional images. Spectacular shooting. Building on the impressive sensor the J4, this latest version of the Nikon 1 line includes an even more powerful sensor to give you greater image clarity and sharper, richer shots. The CMOS sensor in the new J5 can generate stunning 20.8 megapixel images when combined with the extensive range of NIKKOR lenses to let you achieve a wide range of artistic compositions. The updated dual-engine EXPEED 5A processor also allows the camera to respond quickly for effortless images and seamless continuous shooting at an incredible 60 frames per second at full resolution when shooting with fixed focus.</description><spec><megapixels>20.8</megapixels><sensor>13.2 x 8.8 CMOS</sensor><iso>200-12800</iso></spec><picture>0015.jpg</picture></product>",
		"<product top-level-category=\"Compact\" sub-level-category=\"System\"><id>0016</id><title>CANON EOS M3 Compact System Camera with EF-M 18-55 mm f/3.5-5.6 IS STM Zoom Lens - Black</title><brand>Canon</brand><price>438.00</price><description>Take to the streets and express yourself with the Canon EOS M3 Compact System Camera with EF-M 18-55mm f/3.5-5.6 IS STM Zoom Lens that combines the high powered sensor and features of the Canon SLR range and houses it in a small lightweight body. Creative and convenient. Distilling the Canon DSLR heritage into a much more portable compact system body, the EOS M3 is one of the easiest ways to enjoy great photography wherever you go. With easy controls and a touchscreen monitor as well as an impressive 24.2 megapixel sensor, you can take beautiful high resolution images and record Full HD videos with ease. A DIGIC 6 processor working with the CMOS sensor gives you great results with Hybrid Auto that lets you shoot still and movie footage simultaneously.</description><spec><megapixels>24.2</megapixels><sensor>22.3 x 14.9 CMOS</sensor><iso>100-12800</iso></spec><picture>0016.jpg</picture></product>",
		"<product top-level-category=\"Compact\" sub-level-category=\"All-in-one\"><id>0017</id><title>SONY Cyber-shot HX60VB Superzoom Compact Camera - Black</title><brand>Sony</brand><price>169.00</price><description>Remember your adventures and precious moments with high-resolution images courtesy of the Sony Cyber-shot HX60VB Compact Digital Camera. Our experts love the big zoom and total control. Zoom and shoot with complete precision with this superzoom compact including 30x optical zoom, a 20.4MP Exmor R CMOS sensor, GPS and image stabilisation – for smooth, precise detail, whether the scene is up close or far away. Impressive images. The HX60V Cyber-shot shoots impressive images courtesy of a 20.4 megapixel CMOS sensor that produces realistic results with reduced visual noise, while BIONZ X image processing helps create lifelike images with accurately depicted colour and detail. You can expect flawless videos too, as the HX60 delivers full HD videos for true-to-life results, whatever you are shooting.</description><spec><megapixels>20.4</megapixels><sensor>6.17 x 4.55 CMOS</sensor><iso>80-3200</iso></spec><picture>0017.jpg</picture></product>",
		"<product top-level-category=\"Compact\" sub-level-category=\"All-in-one\"><id>0018</id><title>CANON PowerShot G7X High Performance Compact Camera - Black</title><brand>Canon</brand><price>399.00</price><description>The Canon PowerShot G7X Compact Digital Camera delivers exceptionally high-resolution photographs in a slimline design. Expert quality in your pocket. You will not compromise on image quality with the PowerShot G7 X and its large 1” sensor, which enhances light sensitivity, reduces noise, (especially at high ISO) and expands dynamic range. A bright f/1.8-2.8 zoom lens lets in more light so that you can capture gorgeous images in all manner of lighting conditions. Enjoy exceptional detail levels and achieve excellent creative effects like background blur for more dynamic shots of a variety of subjects. You will be able to achieve better low light shots with the HS System and advanced DIGIC 6 processor.</description><spec><megapixels>20.2</megapixels><sensor>13.2 x 8.8 CMOS</sensor><iso>125-12800</iso></spec><picture>0018.jpg</picture></product>",
		"<product top-level-category=\"Compact\" sub-level-category=\"All-in-one\"><id>0019</id><title>NIKON COOLPIX S9900 Superzoom Compact Camera - Black</title><brand>Nikon</brand><price>179.00</price><description>Perfect for your travels, our experts love the Nikon COOLPIX S9900 Superzoom Digital Camera with great performance and easy sharing in a slender and stylish body. With 30x optical zoom, built-in Wi-Fi and GPS, plus manual exposure modes (P/S/A/M), you will have all the features you need in the palm of your hand. Sharp results. The COOLPIX S9900 features a 16-megapixel CMOS sensor for detail-rich, action-packed photos with superior colour depth. It is capable of taking sharp, compelling photos in all kinds of lighting.  conditions. A high-speed EXPEED C2 image processor delivers fast performance and the best possible image quality with every frame.</description><spec><megapixels>16</megapixels><sensor>6.17 x 4.55 CMOS</sensor><iso>125-1600</iso></spec><picture>0019.jpg</picture></product>",
		"<product top-level-category=\"Compact\" sub-level-category=\"All-in-one\"><id>0020</id><title>PANASONIC DMC-TZ55EB-K Superzoom Compact Digital Camera - Black</title><brand>Panasonic</brand><price>99.00</price><description>With 20x optical zoom, a tilting screen and built-in WiFi, the Panasonic DMC-TZ55EB-K Superzoom Compact Digital Camera is equipped to capture brilliant photography wherever you go. Professional results. This 16 MP camera features a powerful MOS sensor, designed to deliver pristine photographs with breathtaking depth and detail no matter what the conditions. The Panasonic TZ55 Superzoom has a 24 mm ultra-wide angle lens and 10 fps continuous shooting mode, ensuring you will easily get the shot that you want. Despite its slim and compact form, the Panasonic Lumix TZ55 boasts 20x optical zoom, allowing you to capture natural shots from a distance. The 3 tilting, 180 screen makes it easy to take self-portraits and frame awkward shots easily.</description><spec><megapixels>16</megapixels><sensor>CMOS</sensor><iso>100-6400</iso></spec><picture>0020.jpg</picture></product>"
	);
			
	echo "<?xml version=\"1.0\"?>\n";
	
	// Check to see what we are sending
	if (empty($_GET))
	{
		// Send all products
		echo "<products>";
		for($x = 0; $x < 20; $x++)
		{
			echo $productArray[$x];
		}
		echo "</products>";
	}
	else if(array_key_exists('carousel', $_GET))
	{
		// The index.html is asking for carousel products
		echo "<carousel>";
		echo $productArray[rand(0, 3)];
		echo $productArray[rand(4, 7)];
		echo $productArray[rand(8, 11)];
		echo $productArray[rand(12, 15)];
		echo $productArray[rand(16, 19)];
		echo "</carousel>";
	}
	else
	{
		// Must be a search
		echo "<results>";
		$engine[20][2];
		
		for ($x=0; $x < 20; $x++)
		{
			$engine[$x][0] = $x;
			$engine[$x][1] = 0;
		}
		
		// Only add products if there is an actual term
		if (array_key_exists('searchTerm', $_GET))
		{
			if (strlen($_GET['searchTerm']) > 0)
			{
				$bits = explode(" ", $_GET['searchTerm']);
				if (count($bits) == 1)
				{
					//Only one term - check each product
					for ($x=0; $x < 20; $x++)
					{
						$engine[$x][1] = substr_count(strtolower($productArray[$x]), strtolower($_GET['searchTerm']));
					}
				}
				else
				{
					//Multiple terms
					// Check whole string of terms against the products
					for ($x=0; $x < 20; $x++)
					{
						$engine[$x][1] = substr_count(strtolower($productArray[$x]), strtolower($_GET['searchTerm']));
					}
					
					// Check each individual term against the products
					for ($x=0; $x < 20; $x++)
					{
						for ($y=0; $y < count($bits); $y++)
						{
							$engine[$x][1] += substr_count(strtolower($productArray[$x]), strtolower($bits[$y]));
						}
					}
				}
				
				// Now sort them into count order
				for ($x=0; $x < 19; $x++)
				{
					for ($y=$x + 1; $y < 20; $y++)
					{
						if ($engine[$x][1] < $engine[$y][1])
						{
							// Swap them
							$tmp = $engine[$x];
							$engine[$x] = $engine[$y];
							$engine[$y] = $tmp;
						}
					}
				}
				
				// Only output the products with a count > 0
				for ($x=0; $x < 20; $x++)
				{
					if ($engine[$x][1] > 0)
					{
						echo $productArray[$engine[$x][0]];
					}
				}
				
			}
		}
		
		echo "</results>";
	}
?>